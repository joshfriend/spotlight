<!-- Plugin Configuration File. Read more: https://plugins.jetbrains.com/docs/intellij/plugin-configuration-file.html -->
<idea-plugin>
  <id>com.fueledbycaffeine.spotlight</id>
  <name>Spotlight</name>
  <vendor url="https://github.com/joshfriend">Josh Friend</vendor>
  <description><![CDATA[
Spotlight lets you load smaller segments of your Gradle project in the IDE.
For use with the <a href="https://plugins.gradle.org/plugin/com.fueledbycaffeine.spotlight">Spotlight Gradle plugin</a>
]]></description>

  <depends>com.intellij.modules.platform</depends>
  <depends>com.intellij.gradle</depends>

  <resource-bundle>messages.SpotlightBundle</resource-bundle>

  <extensions defaultExtensionNs="com.intellij">
    <editorNotificationProvider implementation="com.fueledbycaffeine.spotlight.idea.notification.ProjectStaleNotificationProvider"/>
    <statusBarWidgetFactory implementation="com.fueledbycaffeine.spotlight.idea.ui.SpotlightStatusBarWidgetFactory"
                            id="com.fueledbycaffeine.spotlight"/>
    <directoryIndexExcludePolicy
            implementation="com.fueledbycaffeine.spotlight.idea.direxclude.SpotlightExcludeDirectoryPolicy"/>
    <externalProjectDataService implementation="com.fueledbycaffeine.spotlight.idea.gradle.SpotlightModelDataService"/>
    
    <!-- ide-projects.txt file support -->
    <annotator language="TEXT" implementationClass="com.fueledbycaffeine.spotlight.idea.lang.IdeProjectsAnnotator"/>
    <completion.contributor language="TEXT" implementationClass="com.fueledbycaffeine.spotlight.idea.lang.IdeProjectsCompletionContributor"/>
    <gotoDeclarationHandler implementation="com.fueledbycaffeine.spotlight.idea.lang.IdeProjectsGotoDeclarationHandler"/>
    
    <!-- build.gradle file support -->
    <annotator language="Groovy" implementationClass="com.fueledbycaffeine.spotlight.idea.gradle.BuildGradleProjectAnnotator"/>
    <annotator language="kotlin" implementationClass="com.fueledbycaffeine.spotlight.idea.gradle.BuildGradleProjectAnnotator"/>
    <completion.contributor language="Groovy" implementationClass="com.fueledbycaffeine.spotlight.idea.gradle.BuildGradleProjectCompletionContributor"/>
    <completion.contributor language="kotlin" implementationClass="com.fueledbycaffeine.spotlight.idea.gradle.BuildGradleProjectCompletionContributor"/>
    <psi.referenceContributor language="Groovy" implementation="com.fueledbycaffeine.spotlight.idea.gradle.BuildGradleProjectReferenceContributor"/>
    <psi.referenceContributor language="kotlin" implementation="com.fueledbycaffeine.spotlight.idea.gradle.BuildGradleProjectReferenceContributor"/>
    <gotoDeclarationHandler implementation="com.fueledbycaffeine.spotlight.idea.gradle.BuildGradleProjectGotoHandler"/>
    
    <notificationGroup id="Spotlight" displayType="BALLOON"/>
  </extensions>

  <extensions defaultExtensionNs="org.jetbrains.plugins.gradle">
    <projectResolve implementation="com.fueledbycaffeine.spotlight.idea.gradle.SpotlightProjectResolverExtension"/>
  </extensions>

  <actions>
    <group id="Group.SpotlightWorkspace"
           description="Add or Remove Spotlight projects"
           text="Add or Remove Spotlight Projects">
      <separator/>
      <action class="com.fueledbycaffeine.spotlight.idea.action.AddProjectToSpotlightAction"
              id="Action.AddProjectToSpotlight"
              text="Add Project to Spotlight">
        <keyboard-shortcut first-keystroke="control shift J" keymap="$default"/>
      </action>
      <action class="com.fueledbycaffeine.spotlight.idea.action.RemoveProjectFromSpotlightAction"
              id="Action.RemoveProjectFromSpotlight"
              text="Remove Project from Spotlight">
        <keyboard-shortcut first-keystroke="control shift F" keymap="$default"/>
      </action>
      <separator/>
      <add-to-group group-id="ProjectViewPopupMenu"/>
    </group>
    
    <action class="com.fueledbycaffeine.spotlight.idea.lang.RemoveAllInvalidPathsAction"
            id="Action.RemoveAllInvalidPaths"
            text="Remove All Invalid Paths">
      <keyboard-shortcut first-keystroke="control alt O" keymap="$default"/>
      <keyboard-shortcut first-keystroke="meta alt O" keymap="Mac OS X"/>
      <keyboard-shortcut first-keystroke="meta alt O" keymap="Mac OS X 10.5+"/>
    </action>
  </actions>
</idea-plugin>
